---
layout: post
title: SMorSe Android Application
description: "SMorSe is an android application that converts incoming SMS messages to morse code. If the phone is on normal mode, the morse code message is played at the frequency and duration set in the application settings. If the phone is set to vibrate, the morse code message is vibrated at the duration set in the application settings."
modified: 2015-07-26
tags: [android]
comments: false
image:
  feature: android/smorse.png
---
<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

## Listen to SMS Messages in Morse Code

[SMorSe](https://play.google.com/store/apps/details?id=com.jacobmdavidson.smsmorsecode) is an Android application that converts incoming text messages to Morse code based on the ITU-R M.1677-1 recommendation. Simply enable the app, and all incoming text messages will be converted to Morse code (even if the app is not running). If the ringer mode is set to normal, the message is played at the frequency and speed settings chosen. If the ringer mode is set to vibrate, the message is vibrated at the speed setting chosen. Each message begins with the starting signal ( — • — • — ), after which the message is played. The cross signal ( • — • — • ) indicates the end of the message. The source code is freely available on [GitHub](https://github.com/JacobMDavidson/smsmorsecode).

#### Features:

1. If the user is on a call when the message is received, the message is not played
2. If the user receives a call when the message is playing, the message is stopped.
3. If the user changes the screen state twice while the message is playing, the playback stops immediately.
4. Application does not have to be running to receive text messages in morse code
5. If music is playing when a message is received, the music is paused during message playback and resumed after message playback completion.

## How it Works

This application is composed of three components: the main activity, a broadcast receiver, and a service. The main activity allows the user to enable the broadcast receiver and set the frequency and speed of the morse code playback. The broadcast receiver is invoked whenever a text message is received and starts the service, passing the received text message to the service. The service then converts the text message to a morse code and plays or vibrates the morse code message.

#### <u>Main Activity</u>

The main activity allows the user to enable or disable the broadcast receiver. The broadcast receiver is registered within the AndroidManifest.xml file with the SMS_RECEIVED intent filter, and is initially disabled. A toggle button in the main activity class enables and disables the broadcast receiver using the PackageManager class. This method allows the broadcast receiver to persist even when the application is closed.

The main activity also allows the user to select the frequency and speed of morse code playback. The frequency affects the pitch of the tone affecting only audible playback. The speed affects both audio and vibratory playback, and is set in "words per minute" units. The speed is based on the word "Paris" which is the traditionally selected average word length. The frequency can be set in the range of 400Hz to 1000Hz (incremented by 50Hz), and the speed setting can be set in the range of 10 WPM to 40 WPM (incremented by 10 WPM). The ranges of these settings were restricted to eliminate a glitching affect that I will elaborate on below.

Finally, the main activity allows the user to enter a string and play that string in morse code with the chosen morse code settings. Playing the string is accomplished by starting the service and passing the string to the service, effectively bypassing the broadcast receiver.

#### <u>Broadcast Receiver</u>

#### <u>Service</u>  
